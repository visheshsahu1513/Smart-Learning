# Learning Management System (LMS) API

This is the backend API for a modern Learning Management System, built with FastAPI. It provides a robust, secure, and scalable foundation for managing users, courses, enrollments, and course materials.

The API leverages a PostgreSQL database for data persistence and integrates with Firebase for user authentication and cloud storage, following modern best practices for decoupled and secure application architecture.

## Table of Contents

- [Features](#features)
- [Tech Stack](#tech-stack)
- [API Endpoints](#api-endpoints)
- [Project Structure](#project-structure)
- [Setup and Installation](#setup-and-installation)
  - [Prerequisites](#prerequisites)
  - [Local Setup](#local-setup)
- [Running the Application](#running-the-application)
- [Environment Variables](#environment-variables)
- [Authentication](#authentication)

## Features

- **User Management**: User signup and role-based access control (Student, Instructor, Admin).
- **Authentication**: Secure authentication using Firebase Authentication (ID Tokens).
- **Course Management**: Full CRUD (Create, Read, Update, Delete) operations for courses.
- **Enrollment System**: Students can enroll in courses, with capacity limits enforced.
- **Course Materials**: Instructors can upload course materials (PDFs, videos, etc.) to Firebase Storage.
- **Secure File Access**: Generates secure, time-limited download URLs for private course materials.
- **Role-Based Authorization**: Granular permissions for all actions, ensuring users can only access what they are authorized to.

## Tech Stack

- **Backend Framework**: [FastAPI](https://fastapi.tiangolo.com/)
- **Database**: [PostgreSQL](https://www.postgresql.org/)
- **ORM**: [SQLAlchemy](https://www.sqlalchemy.org/)
- **Data Validation**: [Pydantic](https://pydantic-docs.helpmanual.io/)
- **Authentication**: [Firebase Authentication](https://firebase.google.com/docs/auth)
- **File Storage**: [Firebase Cloud Storage](https://firebase.google.com/docs/storage)
- **Server**: [Uvicorn](https://www.uvicorn.org/)

## API Endpoints

The API documentation is automatically generated by FastAPI and is available at:

- **Swagger UI**: `http://127.0.0.1:8000/docs`
- **ReDoc**: `http://127.0.0.1:8000/redoc`

A brief overview of the available endpoints:

- `/api/auth/signup`: Syncs a new Firebase user to the local database.
- `/api/users/`: User management endpoints (requires admin privileges).
- `/api/courses/`: CRUD operations for courses.
- `/api/courses/{course_id}/enroll`: Allows a student to enroll in a course.
- `/api/courses/{course_id}/materials`: Upload and view course materials.

## Project Structure

The project follows a standard, scalable structure for FastAPI applications:
lms-fastapi-project/
├── app/
│   ├── __init__.py             # Makes 'app' a Python package
│   ├── crud.py
│   ├── database.py
│   ├── main.py
│   ├── models.py
│   ├── schemas.py
│   ├── security.py
│   └── routers/
│       ├── __init__.py
│       ├── auth.py
│       ├── courses.py
│       └── users.py
│
├── .env                        # <-- YOUR LOCAL SECRETS (NOT IN GIT)
├── .gitignore                  # Tells Git which files to ignore (like .env)
├── README.md                   # The project's instruction manual
└── requirements.txt            # The list of Python dependencies



Local host run command: uvicorn app.main:app --reload --port 8001